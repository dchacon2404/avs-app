<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Alpha Vintage Store</title>
  <link href="https://fonts.googleapis.com/css2?family=Libertinus+Serif+Display&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>
  <!-- Video de fondo -->
  <div class="video-container">
    <video autoplay muted loop>
      <source src="Images/copy_40AB2CD4-AEFC-426C-945A-D778C0E760D3.mov" type="video/mp4" />
      Tu navegador no soporta video HTML5.
    </video>
    <div class="overlay"></div>
  </div>

  <header>
    <div class="navbar">
      <!-- Menú izquierdo -->
      <nav class="nav-left">
        <a href="NuevoDrop.html">Shop</a>
      </nav>

      <!-- Logo centrado -->
      <div class="logo">AVS</div>

      <!-- Iconos derecha -->
<!-- Iconos derecha -->
<div class="icons">
  <a href="#"><img src="Images/buscar.png" alt="Buscar" /></a>
  <a href="#"><img src="Images/agregar-usuario.png" alt="usuario" /></a>
  <a href="carrito.html"><img src="Images/anadir-al-carrito.png" alt="Carrito" /></a>
</div>
    </div>
  </header>

  <!-- Hero -->
  <div class="hero-content">
    <h1>MODA VINTAGE<br />PARA QUIENES VALORAN<br />ESTILO Y CALIDAD</h1>
    <p>Tu estilo único comienza aquí</p>
    <a href="NuevoDrop.html" class="btn">NUEVO DROP</a>
  </div>

  <!-- Sección Galería de Productos Destacados -->
  <section class="featured-section">
    <h2>Alpha Vintage Store</h2>
    <div class="gallery">
      <div class="gallery-item"><img src="Images/Foto1.jpg" alt="Producto 1" /></div>
      <div class="gallery-item"><img src="Images/Foto2.jpg" alt="Producto 2" /></div>
      <div class="gallery-item"><img src="Images/Foto3.jpg" alt="Producto 3" /></div>
      <div class="gallery-item"><img src="Images/Foto4.jpg" alt="Producto 4" /></div>
      <div class="gallery-item"><img src="Images/foto3.jpg" alt="Producto 5" /></div>
      <div class="gallery-item"><img src="Images/foto3.jpg" alt="Producto 6" /></div>
    </div>
  </section>
<!-- Sección Prendas -->
<section class="prendas-section">
  <div class="prendas-container" id="prendas-container">
    <!-- Productos se cargarán aquí dinámicamente -->
  </div>
</section>

<script>
async function cargarPrendas() {
  const container = document.getElementById('prendas-container');
  container.innerHTML = '';

  try {
    const res = await fetch('http://localhost:3000/api/productos');
    let productos = await res.json();

    // Mezclar aleatoriamente los productos
    productos = productos.sort(() => 0.5 - Math.random());

    // Tomar máximo 5 productos
    productos = productos.slice(0, 5);

    productos.forEach(prod => {
      const card = document.createElement('div');
      card.className = 'product-card';

      // Usar la primera imagen del array
      const imgSrc = prod.imagenes[0].startsWith('/') ? prod.imagenes[0].slice(1) : prod.imagenes[0];

      // Hacemos que toda la tarjeta sea clicable usando onclick
      card.innerHTML = `
        <img src="${imgSrc}" alt="${prod.nombre}">
        <h3>${prod.nombre}</h3>
      `;

      // Redirigir al producto al hacer clic en cualquier parte de la tarjeta
      card.addEventListener('click', () => {
        window.location.href = `producto.html?id=${prod.id}`;
      });

      container.appendChild(card);
    });

  } catch (err) {
    console.error('Error cargando prendas:', err);
    container.innerHTML = '<p>No se pudieron cargar las prendas. Intenta más tarde.</p>';
  }
}

document.addEventListener('DOMContentLoaded', cargarPrendas);
</script>




  <!-- Sección Acerca de Yhoryina -->
  <section class="about-section">
    <div class="about-container">
      <div class="about-image">
        <img src="Images/yhor.jpg" alt="Yhoryina" />
      </div>
      <div class="about-text">
        <h2>Acerca de Yhoryina</h2>
        <p>
          Aquí puedes poner información personal sobre Yhoryina, su historia,
          pasión por la moda vintage y lo que quiere transmitir con Alpha Vintage Store.
        </p>
      </div>
    </div>
  </section>

  <!-- Pie de página -->
  <footer class="custom-footer">
    <div class="footer-content">
      <div class="footer-logo-container">
        <img src="Images/logo.png" alt="Logo Alpha Vintage Store" class="footer-logo" />
      </div>
      <div class="footer-icons">
        <a href="#"><img src="Images/logotipo-de-instagram.png" alt="Instagram" /></a>
        <a href="#"><img src="Images/centro-de-llamadas.png" alt="Servicio al cliente" /></a>
        <a href="#"><img src="Images/whatsapp.png" alt="Preventa" /> </a>
      </div>
    </div>
  </footer>

<script src="login.js"></script>

<script>
function showCartCount() {
  const count = localStorage.getItem("cartCount") || 0;

  let cartIcon = document.querySelector('.icons a:last-child'); // el último es carrito
  if (!cartIcon) return;

  let badge = cartIcon.querySelector(".cart-badge");
  if (!badge) {
    badge = document.createElement("span");
    badge.classList.add("cart-badge");
    badge.style.position = "absolute";
    badge.style.top = "0px";
    badge.style.right = "0px";
    badge.style.background = "white";
    badge.style.color = "black";
    badge.style.fontSize = "12px";
    badge.style.padding = "2px 6px";
    badge.style.borderRadius = "50%";
    badge.style.fontWeight = "bold";
    cartIcon.style.position = "relative";
    cartIcon.appendChild(badge);
  }

  badge.textContent = count;
}

document.addEventListener("DOMContentLoaded", showCartCount);
</script>



</body>
</html>
